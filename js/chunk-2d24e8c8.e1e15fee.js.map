{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/components/Notes.vue?6e20","webpack:///./src/components/Notes.vue?dc53","webpack:///src/components/Notes.vue","webpack:///./src/components/Notes.vue?cbc7","webpack:///./src/components/Notes.vue"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","this","arguments","length","undefined","$","target","proto","forced","fails","METHOD_NAME","argument","method","call","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","selectValue","expression","_l","item","key","label","on","$event","stopPropagation","addNote","_v","userData","index","class","checked","selectedNote","nativeOn","selectedNoteData","_s","_f","createdTime","title","slice","_e","Date","noteData","toLocaleString","replace","saveStatus","deleteNote","slot","directives","name","rawName","domProps","composing","noteTitle","changeNoteData","noteCotent","staticRenderFns","props","type","Array","required","recycleBinData","data","options","showList","timer","methods","initOptions","$route","params","$emit","newUserData","noteBookName","initNoteData","noteList","getTime","content","show","lists","text","$message","warning","clearTimeout","setTimeout","newRecycleBinData","showListsLength","flag","success","watch","noteLists","mounted","$nextTick","beforeRouteEnter","next","vm","info","$router","push","filters","changeDate","arr","over","i","component"],"mappings":"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","file":"js/chunk-2d24e8c8.e1e15fee.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notes.vue?vue&type=style&index=0&id=74b2331e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notes.vue?vue&type=style&index=0&id=74b2331e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notes\"},[_c('el-container',[_c('el-aside',{staticClass:\"aside animate__animated animate__slideInLeft\",attrs:{\"width\":\"300px\"}},[_c('header',{staticClass:\"header\"},[_c('el-select',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.selectValue),callback:function ($$v) {_vm.selectValue=$$v},expression:\"selectValue\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.addNote($event)}}},[_vm._v(\"添加笔记\")])],1),_c('el-row',{staticClass:\"list_head\"},[_c('el-col',{attrs:{\"span\":12}},[_vm._v(\"创建时间\")]),_c('el-col',{attrs:{\"span\":12}},[_vm._v(\"标题\")])],1),(_vm.showList)?_c('section',{staticClass:\"lists_main\"},_vm._l((_vm.userData[_vm.selectValue].lists),function(item,index){return _c('div',{key:index},[(item.show)?_c('el-row',{class:['lists_item', { checked: _vm.selectedNote === index }],nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.selectedNoteData(item, index)}}},[_c('el-col',{attrs:{\"span\":12}},[_vm._v(_vm._s(_vm._f(\"changeDate\")(item.createdTime)))]),_c('el-col',{attrs:{\"span\":12,\"title\":item.title.length > 8 ? item.title : false}},[_vm._v(\" \"+_vm._s(item.title.length > 8 ? item.title.slice(0, 8) + \"...\" : item.title)+\" \")])],1):_vm._e()],1)}),0):_vm._e()],1),(_vm.noteData)?_c('el-main',{staticClass:\"note_main\"},[_c('header',{staticClass:\"noteMain_header\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_vm._v(\" 创建时间：\"+_vm._s(new Date(_vm.noteData.createdTime) .toLocaleString() .replace(/\\//g, \"-\"))+\" \"+_vm._s(_vm.saveStatus)+\" \")]),_c('el-col',{attrs:{\"span\":1,\"offset\":11}},[_c('el-popconfirm',{attrs:{\"confirmButtonText\":\"确定\",\"cancelButtonText\":\"取消\",\"icon\":\"el-icon-info\",\"iconColor\":\"red\",\"title\":\"确定删除该笔记吗？\"},on:{\"onConfirm\":_vm.deleteNote}},[_c('i',{staticClass:\"el-icon-delete icon\",attrs:{\"slot\":\"reference\"},slot:\"reference\"})])],1)],1)],1),_c('section',{staticClass:\"note_title\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.noteTitle),expression:\"noteTitle\"}],staticClass:\"input\",attrs:{\"placeholder\":\"请输入文章标题\"},domProps:{\"value\":(_vm.noteTitle)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.noteTitle=$event.target.value},function($event){return _vm.changeNoteData('title', _vm.noteTitle)}]}})]),_c('section',{staticClass:\"note_content\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.noteCotent),expression:\"noteCotent\"}],staticClass:\"textarea\",attrs:{\"placeholder\":\"请输入文章内容\"},domProps:{\"value\":(_vm.noteCotent)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.noteCotent=$event.target.value},function($event){return _vm.changeNoteData('content', _vm.noteCotent)}]}})])]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"notes\">\r\n    <el-container>\r\n      <!-- 侧边栏 -->\r\n      <el-aside\r\n        width=\"300px\"\r\n        class=\"aside animate__animated animate__slideInLeft\"\r\n      >\r\n        <header class=\"header\">\r\n          <el-select v-model=\"selectValue\" placeholder=\"\">\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n          <!-- 添加笔记按钮 -->\r\n          <el-button size=\"mini\" @click.stop=\"addNote\">添加笔记</el-button>\r\n        </header>\r\n        <!-- 创建时间和标题 -->\r\n        <el-row class=\"list_head\">\r\n          <el-col :span=\"12\">创建时间</el-col>\r\n          <el-col :span=\"12\">标题</el-col>\r\n        </el-row>\r\n        <!-- 笔记列表 -->\r\n        <!-- 由于userData是props值，props是异步的，所以当页面加载时props值没有加载过来，先不显示，等到mounted是再加载 -->\r\n        <section class=\"lists_main\" v-if=\"showList\">\r\n          <div\r\n            v-for=\"(item, index) in userData[selectValue].lists\"\r\n            :key=\"index\"\r\n          >\r\n            <el-row\r\n              v-if=\"item.show\"\r\n              :class=\"['lists_item', { checked: selectedNote === index }]\"\r\n              @click.stop.native=\"selectedNoteData(item, index)\"\r\n            >\r\n              <!-- 创建时间 -->\r\n              <el-col :span=\"12\">{{ item.createdTime | changeDate }}</el-col>\r\n              <!-- 文章标题  当长度大于10时，title显示全部的标题，否则不开启title功能 -->\r\n              <el-col\r\n                :span=\"12\"\r\n                :title=\"item.title.length > 8 ? item.title : false\"\r\n              >\r\n                <!-- 当长度大于10的时候，显示前十个字加上...  否则显示全称 -->\r\n                {{\r\n                  item.title.length > 8\r\n                    ? item.title.slice(0, 8) + \"...\"\r\n                    : item.title\r\n                }}\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n        </section>\r\n      </el-aside>\r\n\r\n      <!-- 笔记内容部分 -->\r\n      <el-main class=\"note_main\" v-if=\"noteData\">\r\n        <!-- 头部 -->\r\n        <header class=\"noteMain_header\">\r\n          <el-row>\r\n            <el-col :span=\"12\">\r\n              创建时间：{{\r\n                new Date(noteData.createdTime)\r\n                  .toLocaleString()\r\n                  .replace(/\\//g, \"-\")\r\n              }}\r\n              {{ saveStatus }}\r\n            </el-col>\r\n            <!-- 删除 -->\r\n            <el-col :span=\"1\" :offset=\"11\">\r\n              <!-- 确认框，onConfirm是点击确认选择的回调事件 -->\r\n              <el-popconfirm\r\n                confirmButtonText=\"确定\"\r\n                cancelButtonText=\"取消\"\r\n                icon=\"el-icon-info\"\r\n                iconColor=\"red\"\r\n                title=\"确定删除该笔记吗？\"\r\n                @onConfirm=\"deleteNote\"\r\n              >\r\n                <i slot=\"reference\" class=\"el-icon-delete icon\"></i>\r\n              </el-popconfirm>\r\n            </el-col>\r\n          </el-row>\r\n        </header>\r\n        <!-- 标题和内容区 -->\r\n        <section class=\"note_title\">\r\n          <input\r\n            class=\"input\"\r\n            v-model=\"noteTitle\"\r\n            placeholder=\"请输入文章标题\"\r\n            @input=\"changeNoteData('title', noteTitle)\"\r\n          />\r\n        </section>\r\n        <section class=\"note_content\">\r\n          <textarea\r\n            class=\"textarea\"\r\n            v-model=\"noteCotent\"\r\n            placeholder=\"请输入文章内容\"\r\n            @input=\"changeNoteData('content', noteCotent)\"\r\n          />\r\n        </section>\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    userData: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    recycleBinData: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      options: [],\r\n      selectValue: 0, // 下拉框选中的值\r\n      showList: false, //是否显示列表\r\n      noteTitle: \"\", //文章标题\r\n      noteCotent: \"\", //文章内容\r\n      noteData: null, // 文章的数据\r\n      selectedNote: 0, //选中的文章在文章数组中的下标值\r\n      saveStatus: \"已保存\", //文章编辑时保存的状态，分为已保存和保存中\r\n      timer: null, //防抖定时器\r\n    };\r\n  },\r\n  methods: {\r\n    // 初始化下拉框的选项\r\n    initOptions() {\r\n      // 如果是从笔记本页面跳转过来的，获取路由传过来的值，不是从页面传过来的就为0\r\n      if (this.$route.params.selectValue) {\r\n        this.selectValue = this.$route.params.selectValue;\r\n        // 更新userData中的selectValue\r\n        this.userData.forEach((item, index) => {\r\n          item.checked =\r\n            this.$route.params.selectValue === index ? true : false;\r\n        });\r\n      } else {\r\n        this.selectValue = 0;\r\n      }\r\n\r\n      let newUserData = this.userData;\r\n      this.$emit(\"updateUserData\", newUserData);\r\n\r\n      // 不是从笔记本跳转过来的，正常加载\r\n      this.userData.forEach((item, index) => {\r\n        let data = {\r\n          value: index,\r\n          label: item.noteBookName,\r\n        };\r\n        this.options = [...this.options, data];\r\n        // 当checked为true说明上次浏览的就是该笔记本\r\n        if (item.checked === true) this.selectValue = index;\r\n      });\r\n    },\r\n\r\n    /**\r\n     * 初始化noteData\r\n     * 先判断笔记本中的笔记列表是否有笔记，有笔记就选中第一个笔记数据给noteData(selectedNote默认是0)，没有就不赋值\r\n     */\r\n    initNoteData() {\r\n      let noteList = this.userData[this.selectValue].lists;\r\n      if (noteList.length > 0) {\r\n        this.noteData = noteList[this.selectedNote];\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 添加笔记\r\n     */\r\n    addNote() {\r\n      let newNote = {\r\n        createdTime: new Date().getTime(),\r\n        title: \"无标题\",\r\n        content: \"\",\r\n        show: true,\r\n      };\r\n      this.userData[this.selectValue].lists = [\r\n        newNote,\r\n        ...this.userData[this.selectValue].lists,\r\n      ];\r\n      let newUserData = this.userData;\r\n      this.$emit(\"updateUserData\", newUserData);\r\n      this.noteData = this.userData[this.selectValue].lists[0];\r\n    },\r\n\r\n    /**\r\n     * 选中的文章\r\n     */\r\n    selectedNoteData(item, index) {\r\n      this.noteData = item;\r\n      this.selectedNote = index;\r\n    },\r\n\r\n    /**\r\n     * 输入框更新标题或文章内容\r\n     * 用了防抖的思想\r\n     * @params type 是判断更新的是标题还是内容, 分为title,content;  text是更新的内容\r\n     */\r\n    changeNoteData(type, text) {\r\n      this.saveStatus = \"保存中\";\r\n      // 设置文章标题字数最多为20\r\n      if (type === \"title\" && text.length > 20) {\r\n        this.$message.warning(\"文章标题不能超过20个字数\");\r\n        this.noteTitle = text.slice(0, 20);\r\n        return false;\r\n      } else {\r\n        if (type === \"title\" && text.length === 0) {\r\n          text = \"无标题\";\r\n        }\r\n        clearTimeout(this.timer);\r\n        this.timer = setTimeout(() => {\r\n          this.userData[this.selectValue].lists[this.selectedNote][type] = text;\r\n          let newUserData = this.userData;\r\n          this.$emit(\"updateUserData\", newUserData);\r\n          this.saveStatus = \"已保存\";\r\n        }, 300);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 删除笔记\r\n     * 将 笔记数据中的show改为false，就不会显示该笔记了\r\n     */\r\n    deleteNote() {\r\n      // 更新userData数据\r\n      this.userData[this.selectValue].lists[this.selectedNote].show = false;\r\n      let newUserData = this.userData;\r\n      this.$emit(\"updateUserData\", newUserData);\r\n\r\n      // 更新recycleBinData数据\r\n      let category = this.userData[this.selectValue].noteBookName; //该笔记的属于的哪个笔记本，也可以说是上级分类\r\n      let noteData = this.userData[this.selectValue].lists[this.selectedNote]; // 该笔记的数据\r\n      let deleteTime = new Date().getTime(); // 删除日期\r\n      let allNoteData = { deleteTime, category, noteData }; // 要到回收站的笔记的整体信息\r\n      let newRecycleBinData = [allNoteData, ...this.recycleBinData];\r\n      this.$emit(\"updateRecycleBinData\", newRecycleBinData);\r\n\r\n      // 删除该笔记了，把选中的笔记变成第一个,如果删除最后一个的话，第一个参数传null\r\n      let showListsLength = 0; // 未删除的笔记数\r\n      // 遍历得到未删除笔记的总数\r\n      this.userData[this.selectValue].lists.forEach(item => {\r\n        if (item.show === true) showListsLength++;\r\n      });\r\n      // 如果showListLength大于0，说明还有未删除的笔记，遍历找到第一个未删除的笔记即可，传值初始化noteData和selectValue；\r\n      // 小于0说明该笔记本下所有笔记都删除了，初始化noteData为null\r\n      if (showListsLength > 0) {\r\n        let flag = true;\r\n        this.userData[this.selectValue].lists.forEach((item, index) => {\r\n          if (item.show === true && flag) {\r\n            flag = false;\r\n            this.selectedNoteData(\r\n              this.userData[this.selectValue].lists[index],\r\n              index\r\n            );\r\n          }\r\n        });\r\n      } else {\r\n        this.selectedNoteData(null, 0);\r\n      }\r\n      this.$message.success(\"笔记删除成功\");\r\n    },\r\n  },\r\n  watch: {\r\n    // 当noteData更新时，把noteTitle和noteContent也更新\r\n    noteData() {\r\n      this.noteTitle = this.noteData ? this.noteData.title : \"\";\r\n      this.noteCotent = this.noteData ? this.noteData.content : \"\";\r\n    },\r\n    // 当selectValue更新时\r\n    selectValue() {\r\n      // noteData更新一下\r\n      let noteLists = this.userData[this.selectValue].lists;\r\n      if (noteLists.length === 0) {\r\n        this.noteData = null;\r\n      }\r\n\r\n      // 更新userData中的selectValue\r\n      this.userData.forEach((item, index) => {\r\n        item.checked = this.selectValue === index ? true : false;\r\n      });\r\n      let newUserData = this.userData;\r\n      this.$emit(\"updateUserData\", newUserData);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.showList = true; //列表显示\r\n    this.$nextTick(() => {\r\n      this.initOptions();\r\n      this.initNoteData();\r\n    });\r\n  },\r\n  // 如果该用户没有笔记本，跳转到笔记本页面\r\n  beforeRouteEnter(to, from, next) {\r\n    next(vm => {\r\n      if (vm.userData.length <= 0) {\r\n        vm.$message.info(\"亲，你还没有任何笔记本，请先创建笔记本\");\r\n        vm.$router.push(\"/notebooks\");\r\n        return false;\r\n      }\r\n    });\r\n  },\r\n  filters: {\r\n    //   格式化时间格式\r\n    changeDate(value) {\r\n      let nowDate = new Date().getTime();\r\n      let timeValue = nowDate - value; // 时间差的毫秒数\r\n      // 接下来分别把时间差的毫秒数转换成年、月、天、小时、分钟、秒\r\n      let years = Math.floor(timeValue / (24 * 3600 * 1000 * 365));\r\n      let months = Math.floor(timeValue / (24 * 3600 * 1000 * 30));\r\n      let days = Math.floor(timeValue / (24 * 3600 * 1000));\r\n      let hours = Math.floor(timeValue / (3600 * 1000));\r\n      let minutes = Math.floor(timeValue / (60 * 1000));\r\n      let seconds = Math.floor(timeValue / 1000);\r\n      let arr = [years, months, days, hours, minutes, seconds, \"\"];\r\n      let arr1 = [\"年前\", \"月前\", \"天前\", \"小时前\", \"分钟前\", \"秒前\", \"刚刚\"];\r\n      let index = 6;\r\n      let over = true;\r\n      // 遍历arr，判断哪一项不为0就用over=false进行停止index的赋值操作\r\n      // 最后return返回正确的时间差的值\r\n      arr.forEach((item, i) => {\r\n        if (item && over) {\r\n          index = i;\r\n          over = false;\r\n        }\r\n      });\r\n      return `${arr[index]}${arr1[index]}`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.notes {\r\n  .aside {\r\n    height: 100vh;\r\n    background: #efefef;\r\n    border: 1px solid rgba(0, 0, 0, 0.1);\r\n    .header {\r\n      position: relative;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      padding: 10px 5px;\r\n      background-color: #f8f8f8;\r\n      // 修改elment-ui中的按钮\r\n      .el-button {\r\n        position: absolute;\r\n        right: 5px;\r\n        padding: 2px 5px;\r\n        height: 18px;\r\n      }\r\n    }\r\n    .list_head,\r\n    .lists_main .lists_item {\r\n      display: flex;\r\n      & :nth-child(n) {\r\n        flex-grow: 1;\r\n        padding: 5px 10px;\r\n        font-size: 12px;\r\n        border: 1px solid rgba(0, 0, 0, 0.1);\r\n      }\r\n    }\r\n    .lists_main {\r\n      .lists_item {\r\n        & :nth-child(n) {\r\n          border: none;\r\n        }\r\n        &:hover {\r\n          cursor: pointer;\r\n          background-color: #ffffff;\r\n        }\r\n      }\r\n      .checked {\r\n        background-color: #bbffaa;\r\n      }\r\n    }\r\n  }\r\n\r\n  .note_main {\r\n    .noteMain_header {\r\n      padding: 10px 0 10px 10px;\r\n      font-size: 12px;\r\n      color: rgba(0, 0, 0, 0.6);\r\n      border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n      .icon {\r\n        font-size: 16px;\r\n        &:hover {\r\n          cursor: pointer;\r\n          color: #eb1212;\r\n        }\r\n      }\r\n    }\r\n    .note_title {\r\n      padding: 10px 20px;\r\n      .input {\r\n        width: 100%;\r\n        height: 30px;\r\n        font-size: 20px;\r\n        &:focus {\r\n          outline: none;\r\n        }\r\n      }\r\n    }\r\n    .note_content {\r\n      padding: 20px;\r\n      height: 100%;\r\n      .textarea {\r\n        width: 100%;\r\n        height: 100%;\r\n        border: none;\r\n        font-size: 16px;\r\n        &:focus {\r\n          outline: none;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Notes.vue?vue&type=template&id=74b2331e&scoped=true&\"\nimport script from \"./Notes.vue?vue&type=script&lang=js&\"\nexport * from \"./Notes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Notes.vue?vue&type=style&index=0&id=74b2331e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74b2331e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}